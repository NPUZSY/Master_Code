# ğŸ“˜Meta-RL for CDV Energy Management
Reinforcement Learningâ€“based Energy Management Strategy for Composite-Drive Vehicles

æœ¬ä»“åº“åŒ…å«ç¡•å£«è®ºæ–‡ã€ŠåŸºäºå…ƒå¼ºåŒ–å­¦ä¹ çš„å¤åˆåŠ¨åŠ›è½¦è¾†èƒ½é‡ç®¡ç†ç­–ç•¥ç ”ç©¶ã€‹ä¸­å…¨éƒ¨ç›¸å…³ä»£ç ï¼ŒåŒ…æ‹¬ï¼š

- è‡ªå®šä¹‰å¤åˆåŠ¨åŠ›ç³»ç»Ÿèƒ½é‡ç®¡ç†ç¯å¢ƒï¼ˆFuel Cell + Battery + SuperCapï¼‰
- å¤šæ™ºèƒ½ä½“å¼ºåŒ–å­¦ä¹ ï¼ˆMARLï¼‰èƒ½é‡åˆ†é…ç­–ç•¥
- å…ƒå¼ºåŒ–å­¦ä¹ ï¼ˆMeta-RLï¼‰ä»»åŠ¡è‡ªé€‚åº”è®­ç»ƒæ¡†æ¶
- è®­ç»ƒè„šæœ¬ã€æµ‹è¯•è„šæœ¬ã€å®éªŒå·¥å…·åº“
- å…¨éƒ¨è®ºæ–‡å›¾è¡¨è‡ªåŠ¨ç»˜åˆ¶è„šæœ¬ï¼ˆSVG + é«˜æ¸… PNGï¼‰

æœ¬ä»“åº“æ—¨åœ¨æä¾›ä¸€ä¸ªå¯å¤ç°çš„ CDV æ™ºèƒ½èƒ½é‡ç®¡ç†ç ”ç©¶å¹³å°ã€‚

------------------------------------------------------------

## ğŸ“¦Repository Structure
```commandline
Meta-RL-CDV/
â”œâ”€â”€ Scripts/            # å¼ºåŒ–å­¦ä¹ ç¯å¢ƒä¸ç®—æ³•å®ç°
â”‚   â”œâ”€â”€ Env/            # è‡ªå®šä¹‰ä¸‰èƒ½æºç³»ç»Ÿç¯å¢ƒ
â”‚   â”œâ”€â”€ Chapter2/       # ç¬¬äºŒç« ç»˜å›¾è„šæœ¬
â”‚   â”œâ”€â”€ Chapter3/       # ç¬¬ä¸‰ç« ï¼ˆMARLï¼‰è®­ç»ƒä¸æµ‹è¯•è„šæœ¬
â”œâ”€â”€ nets/               # è®­ç»ƒå¥½çš„æ¨¡å‹æƒé‡ï¼ˆæŒ‰å®éªŒ/ç« èŠ‚ç®¡ç†ï¼‰
â”œâ”€â”€ Figures/            # è®ºæ–‡å›¾è¡¨è¾“å‡ºï¼ˆSVG + é«˜åˆ†è¾¨ç‡ PNGï¼‰
â””â”€â”€ environment.yml     # Conda ç¯å¢ƒé…ç½®æ–‡ä»¶ï¼ˆç”¨äºä¸€é”®å¤ç°ï¼‰
```

------------------------------------------------------------

## ğŸš—System Description

CDVï¼ˆComposite Drive Vehicleï¼‰ç”±ä¸‰ç§èƒ½æºæ„æˆï¼š

- Fuel Cellï¼ˆç‡ƒæ–™ç”µæ± ï¼‰
- Batteryï¼ˆé”‚ç”µæ± ï¼‰
- Supercapacitorï¼ˆè¶…çº§ç”µå®¹ï¼‰

èƒ½é‡ç®¡ç†ç›®æ ‡åŒ…æ‹¬ï¼š

- æ»¡è¶³åŠŸç‡éœ€æ±‚ä¸ç³»ç»Ÿå®‰å…¨çº¦æŸ
- é™ä½æ°¢è€—
- ä¿æŠ¤ç”µæ± å¯¿å‘½
- æé«˜å¯¹å¤æ‚ä»»åŠ¡çš„è‡ªé€‚åº”èƒ½åŠ›

------------------------------------------------------------

## ğŸ¤–Algorithms Included

1. Multi-Agent Reinforcement Learning (MARL)
   - Independent Q-Learning (IQL)
   - ä¸‰æ™ºèƒ½ä½“ç»“æ„ï¼šFC-Agent / BAT-Agent / SC-Agent

2. Meta-Reinforcement Learning (Meta-RL)
   - åŸºäºä»»åŠ¡åµŒå…¥çš„è‡ªé€‚åº”ç­–ç•¥
   - æ”¯æŒ Few-shot å¿«é€Ÿå¾®è°ƒ

3. Baseline æ§åˆ¶ç­–ç•¥
   - ECMS
   - Rule-based EMS

------------------------------------------------------------

## ğŸ§ªHow to Run

1. åˆ›å»º Conda ç¯å¢ƒï¼š
```bash
conda env create -f environment.yml
conda activate Meta-RL-310
```

2. è®­ç»ƒ MARLï¼š
```bash
python Scripts/Chapter3/train_MARL.py
```

3. æµ‹è¯•æ¨¡å‹å¹¶ç”Ÿæˆå›¾è¡¨ï¼š
```bash
python Scripts/Chapter3/test.py
```

è¿è¡Œåä¼šè‡ªåŠ¨ç”Ÿæˆï¼š

- ä¸‰èƒ½æºåŠŸç‡æ›²çº¿
- SOC æ¼”åŒ–æ›²çº¿
- æ¸©åº¦æ›²çº¿
- è¶…çº§ç”µå®¹å¸æ”¶/é‡Šæ”¾èƒ½é‡ç»Ÿè®¡
- æ°¢è€—åˆ†è§£ï¼šFuel Cell / Battery
- å¼ºåŒ–å­¦ä¹ è®¡æ—¶ç»†åˆ†ä¸æ•ˆç‡åˆ†æ

å›¾è¡¨ä¼šä¿å­˜åœ¨ Figures/ ä¸ nets/ å¯¹åº”ç›®å½•ã€‚

------------------------------------------------------------

## ğŸ“ŠExample Outputs

æ‰€æœ‰è®ºæ–‡å›¾è¡¨å‡è‡ªåŠ¨ç”Ÿæˆï¼š
- SVG çŸ¢é‡å›¾
- PNG é«˜æ¸…å›¾ï¼ˆDPI 1200ï¼‰

------------------------------------------------------------

## ğŸ”Citation

å¦‚åœ¨ç ”ç©¶ä¸­ä½¿ç”¨æœ¬ä»“åº“ï¼Œè¯·å¼•ç”¨ï¼š

Z. S. Yuan, â€œMeta-Reinforcement Learning for Composite-Drive Vehicle Energy Management,â€  
Master Thesis, Northwestern Polytechnical University, 2025.


------------------------------------------------------------

## ğŸ“License

æœ¬ä»“åº“ä»…é™ç§‘ç ”ä¸å­¦æœ¯ç”¨é€”ã€‚å•†ä¸šç”¨é€”è¯·è”ç³»ä½œè€…ã€‚

------------------------------------------------------------

## ğŸ™ŒAcknowledgements

æœ¬é¡¹ç›®éƒ¨åˆ†å‚è€ƒï¼š

- PyTorch
- Gymnasium
- Stable-Baselines3
- Farama Foundation
- ç›¸å…³å¼€æºç ”ç©¶å·¥ä½œ

------------------------------------------------------------

å¦‚æœä½ éœ€è¦ README çš„è‹±æ–‡ç‰ˆã€Logoã€ç³»ç»Ÿç»“æ„å›¾æˆ–ç®—æ³•æµç¨‹å›¾ï¼Œæˆ‘å¯ä»¥ç»§ç»­å¸®åŠ©ä½ è¡¥å……ã€‚
